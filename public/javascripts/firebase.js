(function() {function g(a){throw a;}var i=void 0,k=!0,l=null,n=!1;function aa(a){return function(){return this[a]}}function q(a){return function(){return a}}var r,ba=this;function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function s(a){return a!==i}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}Math.floor(2147483648*Math.random()).toString(36);function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function w(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return w.apply(l,arguments)}function ja(a,b){function c(){}c.prototype=b.prototype;a.Xc=b.prototype;a.prototype=new c};function ka(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function la(){this.sb=i}
function ma(a,b,c){switch(typeof b){case "string":na(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==l){c.push("null");break}if("array"==da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],ma(a,a.sb?a.sb.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),
na(f,c),c.push(":"),ma(a,a.sb?a.sb.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:g(Error("Unknown type: "+typeof b))}}var oa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},pa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function na(a,b){b.push('"',a.replace(pa,function(a){if(a in oa)return oa[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return oa[a]=e+b.toString(16)}),'"')};function y(a){if("undefined"!==typeof JSON&&s(JSON.stringify))a=JSON.stringify(a);else{var b=[];ma(new la,a,b);a=b.join("")}return a};function qa(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};function z(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);e&&g(Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+"."))}
function A(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:ra.assert(n,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}a+=" failed: ";c&&(a+="If provided, ");return a+(d+" argument ")}function B(a,b,c,d){(!d||s(c))&&"function"!=da(c)&&g(Error(A(a,b,d)+"must be a valid function."))};var sa={},ra={},ua=/[\[\].#$\/]/,va=/[\[\].#$]/;function wa(a){return u(a)&&0!==a.length&&!ua.test(a)}function xa(a,b,c){(!c||s(b))&&ya(A(a,1,c),b)}
function ya(a,b){s(b)||g(Error(a+"contains undefined."));"function"==da(b)&&g(Error(a+"contains a function."));u(b)&&(b.length>10485760/3&&10485760<sa.Yc.Wc(b).length)&&g(Error(a+"contains a string greater than 10485760 utf8 bytes ('"+b.substring(0,50)+"...')"));if(ga(b))for(var c in b)b.hasOwnProperty(c)&&(".priority"!==c&&(".value"!==c&&!wa(c))&&g(Error(a+"contains an invalid key ("+c+').  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),ya(a,b[c]))}
function za(a,b,c,d){(!d||s(c))&&(c!==l&&!fa(c)&&!u(c))&&g(Error(A(a,b,d)+"must be a valid firebase priority (null or a string.)"))}function Aa(a,b){switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:g(Error(A(a,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}
function Ba(a,b){s(b)&&!wa(b)&&g(Error(A(a,2,k)+'must be a valid firebase key (non-empty string, not containing ".", "#", "$", "/", "[", or "]").'))}function Ca(a,b){(!u(b)||0===b.length||va.test(b))&&g(Error(A(a,1,n)+'must be a non-empty string and can\'t contain ".", "#", "$", "[", or "]".'))}function D(a,b){".info"===E(b)&&g(Error(a+" failed: Can't modify data under /.info/"))};function F(a,b,c,d,e,f,h){this.m=a;this.path=b;this.ga=c;this.ka=Da.test(d)?Number(d):d;this.xa=e;this.qa=Da.test(f)?Number(f):f;this.pa=h;s(this.ka)&&(s(this.qa)&&s(this.ga))&&g("fb.api.Query: Can't combine startAt(), endAt(), and limit().")}F.prototype.Hb=function(a,b){z("fb.api.Query.on",2,2,arguments.length);Aa("fb.api.Query.on",a);B("fb.api.Query.on",2,b,n);this.m.cb(this,a,b);return b};F.prototype.on=F.prototype.Hb;
F.prototype.Gb=function(a,b){z("fb.api.Query.off",2,2,arguments.length);Aa("fb.api.Query.off",a);B("fb.api.Query.off",2,b,n);this.m.rb(this,a,b)};F.prototype.off=F.prototype.Gb;F.prototype.Lc=function(a,b){function c(f){e&&(e=n,d.Gb(a,c),b(f))}z("fb.api.Query.once",2,2,arguments.length);Aa("fb.api.Query.once",a);B("fb.api.Query.once",2,b,n);var d=this,e=k;this.Hb(a,c)};F.prototype.once=F.prototype.Lc;
F.prototype.tc=function(a){z("fb.api.Query.limit",1,1,arguments.length);(!fa(a)||Math.floor(a)!==a||0>=a)&&g("fb.api.Query.limit: First argument must be a positive integer.");return new F(this.m,this.path,a,this.ka,this.xa,this.qa,this.pa)};F.prototype.limit=F.prototype.tc;F.prototype.Sc=function(a,b){z("fb.api.Query.startAt",0,2,arguments.length);za("fb.api.Query.startAt",1,a,k);Ba("fb.api.Query.startAt",b);s(a)||(b=a=l);return new F(this.m,this.path,this.ga,a,b,this.qa,this.pa)};
F.prototype.startAt=F.prototype.Sc;F.prototype.pc=function(a,b){z("fb.api.Query.endAt",0,2,arguments.length);za("fb.api.Query.endAt",1,a,k);Ba("fb.api.Query.endAt",b);return new F(this.m,this.path,this.ga,this.ka,this.xa,a,b)};F.prototype.endAt=F.prototype.pc;function Ea(a){var b={};s(a.ka)&&(b.sp=a.ka);s(a.xa)&&(b.sn=a.xa);s(a.qa)&&(b.ep=a.qa);s(a.pa)&&(b.en=a.pa);s(a.ga)&&(b.l=a.ga);return b}F.prototype.sa=function(){var a=Fa(Ea(this));return"{}"===a?"default":a};function G(a){if(a instanceof G)return a;if(1==arguments.length){this.j=a.split("/");for(var b=0,c=0;c<this.j.length;c++)0<this.j[c].length&&(this.j[b]=this.j[c],b++);this.j.length=b;this.M=0}else this.j=arguments[0],this.M=arguments[1]}function E(a){return a.M>=a.j.length?l:a.j[a.M]}function H(a){var b=a.M;b<a.j.length&&b++;return new G(a.j,b)}G.prototype.toString=function(){for(var a="",b=this.M;b<this.j.length;b++)""!==this.j[b]&&(a+="/"+this.j[b]);return a};
G.prototype.parent=function(){if(this.M>=this.j.length)return l;for(var a=[],b=this.M;b<this.j.length-1;b++)a.push(this.j[b]);return new G(a,0)};G.prototype.A=function(a){for(var b=[],c=this.M;c<this.j.length;c++)b.push(this.j[c]);if(a instanceof G)for(c=a.M;c<a.j.length;c++)b.push(a.j[c]);else{a=a.split("/");for(c=0;c<a.length;c++)0<a[c].length&&b.push(a[c])}return new G(b,0)};G.prototype.c=function(){return this.M>=this.j.length};
function Ga(a,b){var c=E(a);if(c===l)return b;if(c===E(b))return Ga(H(a),H(b));g("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")};function Ha(){this.children={};this.Cb=0;this.value=l}function Ia(a,b,c){this.hb=a?a:"";this.Va=b?b:l;this.k=c?c:new Ha}function I(a,b){for(var c=b instanceof G?b:new G(b),d=a,e;(e=E(c))!==l;)d=new Ia(e,d,e in d.k.children?d.k.children[e]:new Ha),c=H(c);return d}r=Ia.prototype;r.i=function(){return this.k.value};function J(a,b){K("undefined"!==typeof b);a.k.value=b;Ja(a)}r.gb=function(){return 0<this.k.Cb};r.c=function(){return this.i()===l&&!this.gb()};
r.z=function(a){for(var b in this.k.children)a(new Ia(b,this,this.k.children[b]))};function Ka(a,b,c,d){c&&!d&&b(a);a.z(function(a){Ka(a,b,k,d)});c&&d&&b(a)}function La(a,b){for(var c=a.parent();c!==l;){if(b(c))return k;c=c.parent()}return n}r.path=function(){return new G(this.Va===l?this.hb:this.Va.path()+"/"+this.hb)};r.name=aa("hb");r.parent=aa("Va");
function Ja(a){if(a.Va!==l){var b=a.Va,c=a.hb,d=a.c(),e=c in b.k.children;d&&e?(delete b.k.children[c],b.k.Cb--,Ja(b)):!d&&!e&&(b.k.children[c]=a.k,b.k.Cb++,Ja(b))}};function L(a,b){this.Aa=a?a:Ma;this.S=b?b:Na}function Ma(a,b){return a<b?-1:a>b?1:0}r=L.prototype;r.Y=function(a,b){return new L(this.Aa,this.S.Y(a,b,this.Aa).copy(l,l,n,l,l))};r.remove=function(a){return new L(this.Aa,this.S.remove(a,this.Aa).copy(l,l,n,l,l))};r.get=function(a){for(var b,c=this.S;!c.c();){b=this.Aa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return l};
function Oa(a,b){for(var c,d=a.S,e=l;!d.c();){c=a.Aa(b,d.key);if(0===c){if(d.left.c())return e?e.key:l;for(d=d.left;!d.right.c();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}g("Attempted to find predecessor key for a nonexistent key.  What gives?")}r.c=function(){return this.S.c()};r.count=function(){return this.S.count()};r.Ra=function(){return this.S.Ra()};r.Ea=function(){return this.S.Ea()};r.fa=function(a){return this.S.fa(a)};r.ta=function(a){return this.S.ta(a)};
r.Ca=function(a){return new Pa(this.S,a)};function Pa(a,b){this.ec=b;for(this.ib=[];!a.c();)this.ib.push(a),a=a.left}function Qa(a){if(0===a.ib.length)return l;var b=a.ib.pop(),c;c=a.ec?a.ec(b.key,b.value):{key:b.key,value:b.value};for(b=b.right;!b.c();)a.ib.push(b),b=b.left;return c}function Ra(a,b,c,d,e){this.key=a;this.value=b;this.color=c!=l?c:k;this.left=d!=l?d:Na;this.right=e!=l?e:Na}r=Ra.prototype;
r.copy=function(a,b,c,d,e){return new Ra(a!=l?a:this.key,b!=l?b:this.value,c!=l?c:this.color,d!=l?d:this.left,e!=l?e:this.right)};r.count=function(){return this.left.count()+1+this.right.count()};r.c=q(n);r.fa=function(a){return this.left.fa(a)||a(this.key,this.value)||this.right.fa(a)};r.ta=function(a){return this.right.ta(a)||a(this.key,this.value)||this.left.ta(a)};function Sa(a){return a.left.c()?a:Sa(a.left)}r.Ra=function(){return Sa(this).key};
r.Ea=function(){return this.right.c()?this.key:this.right.Ea()};r.Y=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.copy(l,l,l,e.left.Y(a,b,c),l):0===d?e.copy(l,b,l,l,l):e.copy(l,l,l,l,e.right.Y(a,b,c));return Ta(e)};function Ua(a){if(a.left.c())return Na;!a.left.w()&&!a.left.left.w()&&(a=Va(a));a=a.copy(l,l,l,Ua(a.left),l);return Ta(a)}
r.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))!c.left.c()&&(!c.left.w()&&!c.left.left.w())&&(c=Va(c)),c=c.copy(l,l,l,c.left.remove(a,b),l);else{c.left.w()&&(c=Wa(c));!c.right.c()&&(!c.right.w()&&!c.right.left.w())&&(c=Xa(c),c.left.left.w()&&(c=Wa(c),c=Xa(c)));if(0===b(a,c.key)){if(c.right.c())return Na;d=Sa(c.right);c=c.copy(d.key,d.value,l,l,Ua(c.right))}c=c.copy(l,l,l,l,c.right.remove(a,b))}return Ta(c)};r.w=aa("color");
function Ta(a){a.right.w()&&!a.left.w()&&(a=Ya(a));a.left.w()&&a.left.left.w()&&(a=Wa(a));a.left.w()&&a.right.w()&&(a=Xa(a));return a}function Va(a){a=Xa(a);a.right.left.w()&&(a=a.copy(l,l,l,l,Wa(a.right)),a=Ya(a),a=Xa(a));return a}function Ya(a){var b;b=a.copy(l,l,k,l,a.right.left);return a.right.copy(l,l,a.color,b,l)}function Wa(a){var b;b=a.copy(l,l,k,a.left.right,l);return a.left.copy(l,l,a.color,l,b)}
function Xa(a){var b,c;b=a.left.copy(l,l,!a.left.color,l,l);c=a.right.copy(l,l,!a.right.color,l,l);return a.copy(l,l,!a.color,b,c)}function Za(){}r=Za.prototype;r.copy=function(){return this};r.Y=function(a,b){return new Ra(a,b,i,i,i)};r.remove=function(){return this};r.get=q(l);r.count=q(0);r.c=q(k);r.fa=q(n);r.ta=q(n);r.Ra=q(l);r.Ea=q(l);r.w=q(n);var Na=new Za;function $a(){};function ab(){this.n=[];this.Bb=[];this.mc=[];this.lb=[];this.lb[0]=128;for(var a=1;64>a;++a)this.lb[a]=0;this.reset()}ja(ab,$a);ab.prototype.reset=function(){this.n[0]=1732584193;this.n[1]=4023233417;this.n[2]=2562383102;this.n[3]=271733878;this.n[4]=3285377520;this.Nb=this.Ma=0};
function bb(a,b){var c;c||(c=0);for(var d=a.mc,e=c;e<c+64;e+=4)d[e/4]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3];for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}c=a.n[0];for(var h=a.n[1],j=a.n[2],m=a.n[3],o=a.n[4],t,e=0;80>e;e++)40>e?20>e?(f=m^h&(j^m),t=1518500249):(f=h^j^m,t=1859775393):60>e?(f=h&j|m&(h|j),t=2400959708):(f=h^j^m,t=3395469782),f=(c<<5|c>>>27)+f+o+t+d[e]&4294967295,o=m,m=j,j=(h<<30|h>>>2)&4294967295,h=c,c=f;a.n[0]=a.n[0]+c&4294967295;a.n[1]=a.n[1]+h&
4294967295;a.n[2]=a.n[2]+j&4294967295;a.n[3]=a.n[3]+m&4294967295;a.n[4]=a.n[4]+o&4294967295}ab.prototype.update=function(a,b){s(b)||(b=a.length);var c=this.Bb,d=this.Ma,e=0;if(u(a))for(;e<b;)c[d++]=a.charCodeAt(e++),64==d&&(bb(this,c),d=0);else for(;e<b;)c[d++]=a[e++],64==d&&(bb(this,c),d=0);this.Ma=d;this.Nb+=b};var cb,db,eb,fb;function gb(){return ba.navigator?ba.navigator.userAgent:l}fb=eb=db=cb=n;var hb;if(hb=gb()){var ib=ba.navigator;cb=0==hb.indexOf("Opera");db=!cb&&-1!=hb.indexOf("MSIE");eb=!cb&&-1!=hb.indexOf("WebKit");fb=!cb&&!eb&&"Gecko"==ib.product}var jb=db,kb=fb,lb=eb;var mb;if(cb&&ba.opera){var nb=ba.opera.version;"function"==typeof nb&&nb()}else kb?mb=/rv\:([^\);]+)(\)|;)/:jb?mb=/MSIE\s+([^\);]+)(\)|;)/:lb&&(mb=/WebKit\/(\S+)/),mb&&mb.exec(gb());var ob=l,pb=l;
function qb(a,b){ea(a)||g(Error("encodeByteArray takes an array as a parameter"));if(!ob){ob={};pb={};for(var c=0;65>c;c++)ob[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),pb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?pb:ob,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,j=h?a[e+1]:0,m=e+2<a.length,o=m?a[e+2]:0,t=f>>2,f=(f&3)<<4|j>>4,j=(j&15)<<2|o>>6,o=o&63;m||(o=64,h||(j=64));d.push(c[t],c[f],c[j],c[o])}return d.join("")}
;var rb,ub=1;rb=function(){return ub++};function K(a,b){a||g(Error("Firebase INTERNAL ASSERT FAILED:"+b))}function vb(a){var b=qa(a),a=new ab;a.update(b);var b=[],c=8*a.Nb;56>a.Ma?a.update(a.lb,56-a.Ma):a.update(a.lb,64-(a.Ma-56));for(var d=63;56<=d;d--)a.Bb[d]=c&255,c/=256;bb(a,a.Bb);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c++]=a.n[d]>>e&255;return qb(b)}
function wb(){for(var a="",b=0;b<arguments.length;b++)a=ea(arguments[b])?a+wb.apply(l,arguments[b]):"object"===typeof arguments[b]?a+y(arguments[b]):a+arguments[b],a+=" ";return a}var xb=l;function M(){if(xb){var a=wb.apply(l,arguments);xb(a)}}function yb(){if("undefined"!==typeof console){var a=wb.apply(l,arguments);console.log("FIREBASE INTERNAL ERROR: "+a)}}var Da=/^[\-+]?[0-9]*\.?[0-9]+$/;function zb(a,b){return a!==b?a===l?-1:b===l?1:typeof a!==typeof b?"number"===typeof a?-1:1:a>b?1:-1:0}
var Ab=0;function Fa(a){if("object"!==typeof a||a===l)return y(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=y(b[d]),c+=":",c+=Fa(a[b[d]]);return c+"}"};function Bb(a,b){this.la=a;K(this.la!==l,"LeafNode shouldn't be created with null value.");this.Ia="undefined"!==typeof b?b:l}r=Bb.prototype;r.Z=q(k);r.g=aa("Ia");r.zb=function(a){return new Bb(this.la,a)};r.F=function(){return O};r.D=function(a){return E(a)===l?this:O};r.P=q(l);r.v=function(a,b){return(new P(new L,this.Ia)).v(a,b)};r.ab=function(a,b){var c=E(a);return c===l?b:this.v(c,O.ab(H(a),b))};r.c=q(n);r.T=function(a){return a&&this.g()!==l?{".value":this.i(),".priority":""+this.g()}:this.i()};
r.hash=function(){var a="";this.g()!==l&&(a+="priority:"+this.g()+":");a+=typeof this.la+":"+this.la;return vb(a)};r.i=aa("la");r.toString=function(){return"string"===typeof this.la?'"'+this.la+'"':this.la};function P(a,b){this.O=a||new L;this.Ia="undefined"!==typeof b?b:l}r=P.prototype;r.Z=q(n);r.g=aa("Ia");r.zb=function(a){return new P(this.O,a)};r.v=function(a,b){var c=this.O.remove(a);b&&b.c()&&(b=l);b!==l&&(c=c.Y(a,b));return b&&b.g()!==l?new Cb(c,l,this.Ia):new P(c,this.Ia)};r.ab=function(a,b){var c=E(a);if(c===l)return b;var d=this.F(c).ab(H(a),b);return this.v(c,d)};r.c=function(){return this.O.c()};var Db=/^\d+$/;r=P.prototype;
r.T=function(a){if(this.c())return l;var b={},c=0,d=0,e=k;this.z(function(f,h){b[f]=h.T(a);c++;e&&Db.test(f)?d=Math.max(d,Number(f)):e=n});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&this.g()!==l&&(b[".priority"]=""+this.g());return b};r.hash=function(){var a="";this.g()!==l&&(a+="priority:"+this.g()+":");this.z(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});return""===a?"":vb(a)};r.F=function(a){a=this.O.get(a);return a===l?O:a};
r.D=function(a){var b=E(a);return b===l?this:this.F(b).D(H(a))};r.P=function(a){return Oa(this.O,a)};r.Ub=function(){return this.O.Ra()};r.Wb=function(){return this.O.Ea()};r.z=function(a){return this.O.fa(a)};r.Eb=function(a){return this.O.ta(a)};r.Ca=function(){return this.O.Ca()};r.toString=function(){var a="{",b=k;this.z(function(c,d){b?b=n:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};var O=new P(new L);function Cb(a,b,c){P.call(this,a,c);b===l&&(b=new L(Eb),a.fa(function(a,c){b=b.Y({name:a,ha:c.g()},c)}));this.wa=b}ja(Cb,P);r=Cb.prototype;r.v=function(a,b){var c=this.F(a),d=this.O,e=this.wa;c!==l&&(d=d.remove(a),e=e.remove({name:a,ha:c.g()}));b&&b.c()&&(b=l);b!==l&&(d=d.Y(a,b),e=e.Y({name:a,ha:b.g()},b));return new Cb(d,e,this.g())};r.P=function(a,b){var c=Oa(this.wa,{name:a,ha:b.g()});return c?c.name:l};r.z=function(a){return this.wa.fa(function(b,c){return a(b.name,c)})};
r.Eb=function(a){return this.wa.ta(function(b,c){return a(b.name,c)})};r.Ca=function(){return this.wa.Ca(function(a,b){return{key:a.name,value:b}})};r.Ub=function(){return this.wa.Ra().name};r.Wb=function(){return this.wa.Ea().name};function Q(a,b){if("object"!==typeof a)return new Bb(a,b);if(a===l)return O;var c=l;".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);c!==l&&(c=Da.test(c)?Number(c):c);if(".value"in a&&a[".value"]!==l)return new Bb(a[".value"],c);var c=new P(new L,c),d;for(d in a)if(a.hasOwnProperty(d)&&"."!==d.substring(0,1)){var e=Q(a[d]);if(e.Z()||!e.c())c=c.v(d,e)}return c}function Eb(a,b){return zb(a.ha,b.ha)||(a.name!==b.name?a.name<b.name?-1:1:0)};function R(a,b){this.k=a;this.qb=b}R.prototype.T=function(){z("Firebase.DataSnapshot.val",0,0,arguments.length);return this.k.T()};R.prototype.val=R.prototype.T;R.prototype.qc=function(){z("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.k.T(k)};R.prototype.exportVal=R.prototype.qc;R.prototype.A=function(a){z("Firebase.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));Ca("Firebase.DataSnapshot.child",a);var b=new G(a),c=this.qb.A(b);return new R(this.k.D(b),c)};
R.prototype.child=R.prototype.A;R.prototype.rc=function(a){z("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Ca("Firebase.DataSnapshot.hasChild",a);var b=new G(a);return!this.k.D(b).c()};R.prototype.hasChild=R.prototype.rc;R.prototype.g=function(){z("Firebase.DataSnapshot.getPriority",0,0,arguments.length);var a=this.k.g();return a===l?a:""+a};R.prototype.getPriority=R.prototype.g;
R.prototype.forEach=function(a){z("Firebase.DataSnapshot.forEach",1,1,arguments.length);B("Firebase.DataSnapshot.forEach",1,a,n);if(this.k.Z())return n;var b=this;return this.k.z(function(c,d){return a(new R(d,b.qb.A(c)))})};R.prototype.forEach=R.prototype.forEach;R.prototype.gb=function(){z("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.k.Z()?n:!this.k.c()};R.prototype.hasChildren=R.prototype.gb;
R.prototype.name=function(){z("Firebase.DataSnapshot.name",0,0,arguments.length);return this.qb.name()};R.prototype.name=R.prototype.name;R.prototype.Mc=function(){z("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.qb};R.prototype.ref=R.prototype.Mc;var Fb=l;"undefined"!==typeof MozWebSocket?Fb=MozWebSocket:"undefined"!==typeof WebSocket&&(Fb=WebSocket);
function Gb(a,b,c,d,e){this.L=d;this.jb=b;this.Ec=e;this.Ic=c;this.Pa=l;this.state=0;this.frames=l;this.kc=0;a=(a.tb?"wss://":"ws://")+a.host+"/"+a.Ga+".ws";M("Connecting to "+a);this.H=new Fb(a);var f=this;this.H.onopen=function(){M("Websocket connected.  Sending hello.");f.H.send("v=2")};this.H.onclose=function(){M("Websocket connection was disconnected.");f.H=l;f.close(k)};this.H.onmessage=function(a){f.H!==l&&(a=a.data,0===f.state?"ok"===a?(M("Got hello packet.  WebSocket good."),f.state=1,f.Ic()):
"kill"===a&&(M("Shutdown message received from server, likely due to unmatching version numbers."),f.Ec()):1===f.state?(f.kc=Number(a),f.state=2,f.frames=[]):2===f.state&&(f.frames.push(a),f.frames.length==f.kc&&(a="undefined"!==typeof JSON&&s(JSON.parse)?JSON.parse(f.frames.join("")):ka(f.frames.join("")),f.state=1,Hb(f),f.jb(a))))};this.H.onerror=function(){M("WebSocket error.  Closing connection.");f.close()}}
Gb.prototype.send=function(a){Hb(this);a=y(a);a=Ib(a,16384);this.H.send(String(a.length));for(var b=0;b<a.length;b++)this.H.send(a[b])};Gb.prototype.close=function(a){if(!this.Oa&&(this.Oa=k,a||M("Closing WebSocket."),this.Pa&&(clearTimeout(this.Pa),this.Pa=l),this.H&&(this.H.close(),this.H=l),this.L))this.L(),this.L=l};function Hb(a){clearTimeout(a.Pa);a.Pa=setInterval(function(){a.H.send("0");Hb(a)},45E3)};function Jb(){this.set={}}r=Jb.prototype;r.add=function(a,b){this.set[a]=b!==l?b:k};r.get=function(a){return this.set[a]};r.remove=function(a){delete this.set[a]};r.c=function(){for(var a in this.set)return n;return k};r.count=function(){var a=0,b;for(b in this.set)a++;return a};var Kb="pLPCommand",Lb="pRTLPCB";
function Mb(a,b,c,d,e){function f(){if(!h.Oa){h.ua=new Nb(function(a,b,d){if(h.ua)if(h.oa&&(clearTimeout(h.oa),h.oa=l),"start"==a){c();a=h.ua;a.wc=b;a.xc=d;for(a.Ab=k;Ob(a););h.Fa=document.createElement("iframe");h.Fa.src=h.Sa+"?disconn=t&id="+b+"&pw="+d;h.Fa.style.display="none";document.body.appendChild(h.Fa)}else"reset"==a?(M("Got Server RESET packet."),h.close()):"shutdown"==a&&(M("Shutdown message received from server, likely due to unmatching version numbers."),e())},function(a,b){var c=h.yc;
for(c.mb[a]=b;c.mb[c.fb];){var d=c.mb[c.fb];delete c.mb[c.fb];for(var e=0;e<d.length;e++)d[e]&&c.vc(d[e]);c.fb++}},function(){h.close()},h.Sa);var a=h.Sa+"?start=t&ser="+Math.floor(1E8*Math.random())+"&v=2";M("Connecting via long-poll to "+a);Pb(h.ua,a,function(){})}}this.Sa=(a.tb?"https://":"http://")+a.host+"/"+a.Ga+".lp";this.Ob=0;this.L=d;this.yc=new Qb(b);this.Oa=n;var h=this;this.oa=setTimeout(function(){M("Timed out trying to connect.");h.close();h.oa=l},3E4);if("complete"===document.readyState)f();
else{var j=n,m=function(){document.body?j||(j=k,f()):setTimeout(m,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",m,n),window.addEventListener("load",m,n)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&m()},n),window.attachEvent("onload",m,n))}}
Mb.prototype.close=function(){if(!this.Oa&&(this.Oa=k,M("Closing long-poll connection."),this.ua&&(this.ua.close(),this.ua=l),this.Fa&&(document.body.removeChild(this.Fa),this.Fa=l),this.L&&(this.L(),this.L=l),this.oa))clearTimeout(this.oa),this.oa=l};Mb.prototype.send=function(a){for(var a=y(a),a=qb(qa(a),k),a=Ib(a,1840),b=0;b<a.length;b++){var c=this.ua;c.Xa.push({Rc:this.Ob,Tc:a.length,Pb:a[b]});c.Ab&&Ob(c);this.Ob++}};function Qb(a){this.vc=a;this.mb=[];this.fb=0}
function Nb(a,b,c,d){this.Sa=d;this.L=c;this.Jb=new Jb;this.Xa=[];this.Db=Math.floor(1E8*Math.random());c=rb();window[Kb+c]=a;window[Lb+c]=b;a=document.createElement("iframe");a.style.display="none";document.body?document.body.appendChild(a):g("Document body has not initialized. Wait to initialize Firebase until after the document is ready.");a.contentDocument?a.ea=a.contentDocument:a.contentWindow?a.ea=a.contentWindow.document:a.document&&(a.ea=a.document);this.$=a;a="<html><body><script>\nfunction "+
Kb+'(c, a1, a2, a3, a4) {\nparent.window["'+Kb+c+'"](c, a1, a2, a3, a4);\n}\nfunction '+Lb+'(pN, data) {\nparent.window["'+Lb+c+'"](pN, data);\n}\n<\/script></body></html>\n';this.$.ea.open();this.$.ea.write(a);this.$.ea.close()}Nb.prototype.close=function(){this.Ab=n;this.$&&(this.$.ea.body.innerHTML="",document.body.removeChild(this.$),this.$=l);var a=this.L;a&&(this.L=l,a())};
function Ob(a){if(a.Ab&&a.Jb.count()<(0<a.Xa.length?2:1)){a.Db++;for(var b=a.Sa+"?id="+a.wc+"&pw="+a.xc+"&ser="+a.Db,c="",d=0;0<a.Xa.length;)if(1870>=a.Xa[0].Pb.length+30+c.length){var e=a.Xa.shift(),c=c+"&seg"+d+"="+e.Rc+"&ts"+d+"="+e.Tc+"&d"+d+"="+e.Pb;d++}else break;var b=b+c,f=a.Db;a.Jb.add(f);var h=function(){a.Jb.remove(f);Ob(a)},j=setTimeout(h,25E3);Pb(a,b,function(){clearTimeout(j);h()});return k}return n}
function Pb(a,b,c){setTimeout(function(){try{var d=a.$.ea.createElement("script");d.type="text/javascript";d.async=k;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;if(!a||"loaded"===a||"complete"===a)d.onload=d.onreadystatechange=l,d.parentNode&&d.parentNode.removeChild(d),c()};d.onerror=function(){M("Long-poll script failed to load.");a.close()};a.$.ea.body.appendChild(d)}catch(e){}},1)}
function Ib(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c};function Rb(a,b,c,d,e){this.ia=a;this.Ta=b;this.V=c;this.B=d;this.Ha=e;this.G=0;this.Qa=l;this.J=0;this.bb=l;if(Fb!==l){M("CHOOSER: Starting WebSocket connection.");K(Fb!==l,"WebSocket isn't supported.");K(0===this.J,"webSocketState should be START.");K(2!==this.G,"longPollState should not be CONNECTED");this.J=1;try{this.bb=new Gb(this.ia,this.Ta,w(this.Jc,this),w(this.Kc,this),this.Ha)}catch(f){yb("WebSocket constructor threw exception: "+f.toString()),Sb(this)}}else Sb(this);if(3!==this.J){M("CHOOSER: Trying long-poll connection in 450ms.");
var h=this;setTimeout(function(){Tb(h)},450)}else Tb(this)}r=Rb.prototype;r.Jc=function(){M("CHOOSER: WebSocket connection connected.");1===this.J||yb("webSocketState should be CONNECTING.");2===this.G?Sb(this):(this.J=2,Ub(this),this.V&&(this.V(this.bb),this.V=l))};r.Kc=function(){M("CHOOSER: WebSocket connection disconnected.");K(0!==this.J,"webSocketState should not be START.");K(3===this.G||2!==this.J,"Was CONNECTED via websocket, but long-polling wasn't canceled.");Sb(this)};
function Tb(a){0===a.G&&(M("CHOOSER: Starting Long-polling connection."),K(k,"Long-polling isn't supported."),K(2!==a.J,"webSocketState should not be CONNECTED."),a.G=1,a.Qa=new Mb(a.ia,a.Ta,w(a.Fc,a),w(a.Gc,a),a.Ha))}r.Fc=function(){M("CHOOSER: Long-polling connection connected.");1===this.G||yb("longPollState should be CONNECTING.");2===this.J?Ub(this):(this.G=2,Sb(this),this.V&&(this.V(this.Qa),this.V=l))};
r.Gc=function(){M("CHOOSER: Long-polling connection disconnected.");K(0!==this.G,"longPollState should not be START.");K(3===this.J||2!==this.G,"Was CONNECTED via long-polling, but websocket wasn't canceled.");Ub(this)};function Ub(a){3!==a.G&&(M("CHOOSER: Canceling long-polling connection."),a.G=3,a.Qa&&(a.Qa.close(),a.Qa=l),Vb(a))}function Sb(a){3!==a.J&&(M("CHOOSER: Canceling websocket connection."),a.J=3,a.bb&&(a.bb.close(),a.bb=l),0===a.G&&Tb(a),Vb(a))}
function Vb(a){3===a.J&&(3===a.G&&a.B)&&(M("CHOOSER: Both websocket and long-polling were canceled.  Connection lost."),a.B(),a.B=l)}r.close=function(){Ub(this);Sb(this);this.B&&(this.B(),this.B=l)};function S(a,b,c,d,e){this.Ta=b;this.V=c;this.B=d;this.Ha=e;this.ja={};this.Qc=0;this.nb=[];this.ya=0;b=w(this.Hc,this);c=w(this.Ac,this);d=w(this.Bc,this);e=w(this.ac,this);this.Ba=new Rb(a,b,c,d,e)}r=S.prototype;r.va=function(a,b,c,d){var e=++this.Qc;Wb(this,{r:e,a:a,b:b});var f=this,a=setTimeout(function(){var a=f.ja[e];a&&(delete f.ja[e],a.X&&a.X.kb&&a.X.kb())},45E3);this.ja[e]={X:{jb:c,kb:d},ic:a}};
r.Hc=function(a){if("r"in a){var b=a.r,c=this.ja[b];c&&(delete this.ja[b],clearTimeout(c.ic),c.X&&c.X.jb&&c.X.jb(a.b))}else"error"in a&&g("A server-side error has occurred: "+a.error),"a"in a?this.Ta&&this.Ta(a.a,a.b):g("Unrecognized server packet received: "+y(a))};r.Ac=function(a){M("Realtime connection established.");this.Ba=a;this.ya=1;for(a=0;a<this.nb.length;a++)Wb(this,this.nb[a]);this.nb=l;this.V&&(this.V(),this.V=l)};
r.Bc=function(){this.Ba=l;0===this.ya?M("Realtime connection failed."):1===this.ya&&M("Realtime connection lost.");this.close()};r.ac=function(){M("Connection shutdown command received. Shutting down...");this.Ha&&(this.Ha(),this.Ha=l);this.B=l;this.close()};function Wb(a,b){2===a.ya&&g("Connection has already been closed.");0===a.ya?a.nb.push(b):a.Ba.send(b)}
r.close=function(){if(2!==this.ya){M("Closing realtime connection.");this.ya=2;this.Ba&&(this.Ba.close(),this.Ba=l);this.B&&(this.B(),this.B=l);for(var a in this.ja){var b=this.ja[a];delete this.ja[a];b!==l&&(b.X&&b.X.kb&&b.X.kb(),clearTimeout(b.ic))}}};function Xb(a,b,c,d){this.id=Yb++;this.Mb=k;this.U={};this.I=[];this.Ua=0;this.Ib={};this.da=n;this.pb=1E3;this.$b=c;this.B=d;Zb(this,a,b)}var Yb=0;function $b(a,b,c){var d=Fa(c);a.t("Listen on "+b+" for "+d);b={p:b};"default"!==d&&(b.q=c);a.R.va("l",b,l,function(){a.t("timed out on listen...")})}r=Xb.prototype;r.za=function(a,b){this.eb={oc:a,Sb:n,ba:b};this.t("Authenticating using credential: "+this.eb);ac(this)};r.Ka=function(){delete this.eb;this.da&&this.R.va("unauth",{},function(){},function(){})};
function ac(a){var b=a.eb;a.da&&b&&a.R.va("auth",{cred:b.oc},function(c){(c="ok"==c.s)||delete a.eb;b.Sb||(b.Sb=k,b.ba&&b.ba(c))},function(){a.t("timed out on auth...")})}r.Vc=function(a,b){var c=Fa(b);K(this.U[a][c],"unlisten() called for path/queryId we're not listening on.");delete this.U[a][c];if(this.da){c=Fa(b);this.t("Unlisten on "+a+" for "+c);var d=this,e={p:a};"default"!==c&&(e.q=b);this.R.va("u",e,l,function(){d.t("timed out on unlisten...")})}};
r.L=function(a,b){this.Ib[a]=b;this.da&&bc(this,a,b)};function bc(a,b,c){b={p:b,d:c};a.t("onDisconnect",b);a.R.va("o",b,function(a){"ok"!==a.s&&g("onDisconnect failed: "+y(a.d))},function(){a.t("timed out on onDisconnect...")})}r.put=function(a,b,c,d){cc(this,"p",a,b,c,d)};function cc(a,b,c,d,e,f){c={p:c,d:d};s(f)&&(c.h=f);a.I.push({action:b,dc:c,K:e});a.Ua++;b=a.I.length-1;a.da&&dc(a,b)}r.$a=function(){this.R&&this.R.ac()};
function dc(a,b){var c=a.I[b].action,d=a.I[b].dc,e=a.I[b].K;a.t(c,d);a.R.va(c,d,function(d){a.t(c+" response",d);delete a.I[b];a.Ua--;0===a.Ua&&(a.I=[]);e&&e(d.s)},function(){a.t("timed out on put...")})}
function Zb(a,b,c){var d=(new Date).getTime(),e=l;a.R=new S(b,function(b,d){a.t("handleServerMessage",b,d);"d"===b?c(d.p,d.d):"m"===b?c(d.p,d.d,k):"t"===b?Ab=d-(new Date).getTime():yb("Unrecognized action received from server: "+y(b)+"\nAre you using the latest client?")},function(){a.da=k;e=(new Date).getTime();ac(a);for(var b in a.U)for(var c in a.U[b])$b(a,b,a.U[b][c]);for(b in a.Ib)bc(a,b,a.Ib[b]);for(b=0;b<a.I.length;b++)a.I[b]&&dc(a,b);a.$b&&a.$b()},function(){a.da=n;for(var f=0;f<a.I.length;f++){var h=
a.I[f];h&&h.dc.h&&(h.K&&h.K("disconnect"),delete a.I[f],a.Ua--)}0===a.Ua&&(a.I=[]);a.Mb?(e&&(3E4<(new Date).getTime()-e&&(a.pb=1E3),e=l),f=Math.max(0,a.pb-((new Date).getTime()-d)),f*=Math.random(),setTimeout(function(){Zb(a,b,c)},f),a.pb=Math.min(3E4,1.3*a.pb)):a.fc=function(){Zb(a,b,c)};a.B&&a.B()},function(){yb("Firebase connection was forcefully killed by the server.  This is likely due to a client/server version mismatch.  Make sure you're using the latest firebase.js.")})}
r.Na=function(){this.Mb=n;this.R&&this.R.close()};r.Za=function(){this.Mb=k;this.fc();this.fc=i};r.t=function(){M(this.id+":",arguments)};function ec(){this.Ja=O}function T(a,b){return a.Ja.D(b)}function U(a,b,c){a.Ja=a.Ja.ab(b,c)};function fc(){this.ub=new ec;this.Q=new ec;this.na=new ec;this.Wa=new Ia}function gc(a,b,c){if(c.c())return a;if(c.i()!==l)return b;a=a||O;c.z(function(d){var d=d.name(),e=a.F(d),f=b.F(d),h=I(c,d),e=gc(e,f,h);a=a.v(d,e)});return a}fc.prototype.set=function(a,b){var c=rb();J(I(this.Wa,a),c);U(this.Q,a,b);return c};function hc(a,b,c){a=I(a.Wa,b);b=a.i();K(b!==l,"pendingPut should not be null.");b===c&&J(a,l)};function ic(){this.ra=[]}function jc(a,b){if(0!==b.length){a.ra.push.apply(a.ra,b);for(var c=0;c<a.ra.length;c++)if(a.ra[c]){var d=a.ra[c];a.ra[c]=l;var e=d.ba;e(d.hc,d.Ya)}a.ra=[]}};function V(a,b,c,d){this.type=a;this.aa=b;this.N=c;this.Ya=d};function kc(a){this.u=a;this.ca=[];this.Rb=new ic}function lc(a,b,c){for(var d=n,e=0;e<a.ca.length;e++){var f=a.ca[e];if(f.type===b&&f.ba===c){a.ca.splice(e,1);d=k;break}}return d}kc.prototype.ob=function(a,b){b=this.Kb(a,b);mc(this,b)};
function mc(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,h=new W(a.u.m,a.u.path);b[d].N&&(h=h.A(b[d].N));h=new R(b[d].aa,h);"value"===e.type&&!h.gb()?f+="("+h.T()+")":"value"!==e.type&&(f+=" "+h.name());M(a.u.m.o.id+": event:"+a.u.path+":"+a.u.sa()+":"+f);for(f=0;f<a.ca.length;f++){var j=a.ca[f];b[d].type===j.type&&c.push({ba:j.ba,hc:h,Ya:e.Ya})}}jc(a.Rb,c)}function nc(a){var b=[];if(!a.Z()){var c=l;a.z(function(a,e){b.push(new V("child_added",e,a,c));c=a})}return b}
function qc(a){a.Da||(a.Da=k,mc(a,[new V("value",a.e)]))};function rc(a,b){kc.call(this,a);this.e=b}ja(rc,kc);rc.prototype.Kb=function(a,b){this.e=a;this.Da&&b.push(new V("value",this.e));return b};function sc(a,b){this.Qb=a;this.bc=b}function tc(a,b,c,d){var e,f=[];c===d?e=n:c.Z()&&d.Z()?e=c.i()!==d.i():c.Z()?(uc(a,b,O,d,f),e=k):d.Z()?(uc(a,b,c,O,f),e=k):e=uc(a,b,c,d,f);(e=e||c.g()!==d.g())&&a.bc(b,d,f);return e}
function uc(a,b,c,d,e){var f=n,h=!I(a.Qb,b).c(),j=[],m=[],o=[],t={},N={},p,v,x,C;p=c.Ca();x=Qa(p);v=d.Ca();for(C=Qa(v);x!==l||C!==l;){c=x===l?1:C===l?-1:x.key===C.key?0:Eb({name:x.key,ha:x.value.g()},{name:C.key,ha:C.value.g()});if(0>c)f=t[x.key],s(f)?(o.push({Tb:x,jc:j[f]}),j[f]=l):(N[x.key]=m.length,m.push(x)),f=k,x=Qa(p);else{if(0<c)f=N[C.key],s(f)?(o.push({Tb:m[f],jc:C}),m[f]=l):(t[C.key]=j.length,j.push(C)),f=k;else{c=b.A(C.key);if(c=tc(a,c,x.value,C.value))x=d.P(C.key,C.value),e.push(new V("child_changed",
C.value,C.key,x)),f=k;x=Qa(p)}C=Qa(v)}if(!h&&f)return k}for(h=0;h<m.length;h++)if(t=m[h])c=b.A(t.key),tc(a,c,t.value,O),e.push(new V("child_removed",t.value,t.key));for(h=0;h<j.length;h++)if(m=j[h])c=b.A(m.key),x=d.P(m.key,m.value),tc(a,c,O,m.value),e.push(new V("child_added",m.value,m.key,x));for(h=0;h<o.length;h++)m=o[h].Tb,j=o[h].jc,c=b.A(j.key),x=d.P(j.key,j.value),e.push(new V("child_moved",j.value,j.key,x)),(c=tc(a,c,m.value,j.value))&&e.push(new V("child_changed",j.value,j.key,x));return f}
;function vc(a,b){kc.call(this,a);this.e=O;this.Kb(b,nc(b))}ja(vc,kc);
vc.prototype.Kb=function(a,b){var c=[],d=this.u;s(this.u.xa)&&c.push(function(a){return 0<=(a!==d.xa?a<d.xa?-1:1:0)});s(this.u.pa)&&c.push(function(a){return 0>=(a!==d.pa?a<d.pa?-1:1:0)});s(this.u.ka)&&c.push(function(a,b){return 0<=zb(b,d.ka)});s(this.u.qa)&&c.push(function(a,b){return 0>=zb(b,d.qa)});var e=l,f=l;if(s(this.u.ga))if(s(this.u.ka)){if(e=wc(a,c,this.u.ga,n)){var h=a.F(e).g();c.push(function(a,b){var c=zb(b,h);return 0>c||0===c&&a<=e})}}else if(f=wc(a,c,this.u.ga,k)){var j=a.F(f).g();
c.push(function(a,b){var c=zb(b,j);return 0<c||0===c&&a>=f})}for(var m=[],o=[],t=[],N=[],p=0;p<b.length;p++){var v=b[p].N,x=b[p].aa;switch(b[p].type){case "child_added":xc(c,v,x)&&(this.e=this.e.v(v,x),o.push(b[p]));break;case "child_removed":this.e.F(v).c()||(this.e=this.e.v(v,l),m.push(b[p]));break;case "child_changed":!this.e.F(v).c()&&xc(c,v,x)&&(this.e=this.e.v(v,x),N.push(b[p]));break;case "child_moved":var C=!this.e.F(v).c(),oc=xc(c,v,x);C?oc?(this.e=this.e.v(v,x),t.push(b[p])):(m.push(new V("child_removed",
this.e.F(v),v)),this.e=this.e.v(v,l)):oc&&(this.e=this.e.v(v,x),o.push(b[p]))}}var pc=e||f;if(pc){var Tc=(p=f!==l)?this.e.Ub():this.e.Wb(),sb=n,tb=n,ta=this;(p?a.Eb:a.z).call(a,function(a,b){sb?(m.push(new V("child_removed",ta.e.F(a),a)),ta.e=ta.e.v(a,l)):tb&&(o.push(new V("child_added",b,a)),ta.e=ta.e.v(a,b));a===Tc&&(tb=k);a===pc&&(sb=k);if(tb&&sb)return k})}for(p=0;p<o.length;p++)c=o[p],v=this.e.P(c.N,c.aa),m.push(new V("child_added",c.aa,c.N,v));for(p=0;p<t.length;p++)c=t[p],v=this.e.P(c.N,c.aa),
m.push(new V("child_moved",c.aa,c.N,v));for(p=0;p<N.length;p++)c=N[p],v=this.e.P(c.N,c.aa),m.push(new V("child_changed",c.aa,c.N,v));this.Da&&0<m.length&&m.push(new V("value",this.e));return m};function wc(a,b,c,d){var e=l;(d?a.Eb:a.z).call(a,function(a,d){if(xc(b,a,d)&&(e=a,c--,0===c))return k});return e}function xc(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.g()))return n;return k};function yc(a,b){this.o=a;this.f=b;this.Zb=b.Ja;this.La=new Ia}
yc.prototype.cb=function(a,b,c){var d=a.path,e=I(this.La,d),f=e.i();f===l&&(f={},J(e,f));var h=a.sa();if(!(h in f)){f=f||{};f[h]={};var j=f,m=n;La(e,function(a){a.i()&&(a.i()["default"]&&a.i()["default"].C)&&(m=k)});m||(j[h].C=zc(this,a),"default"===h&&Ka(e,function(a){a=a.i();if(a!==l)for(var b in a)if(a[b].C){a[b].C();delete a[b].C}}))}e=f[h].view;e||(e=this.f.Ja.D(d),e="default"===a.sa()?new rc(a,e):new vc(a,e),f[h].view=e,(a=(a=La(I(this.La,d),function(a){if(a.i()&&a.i()["default"]&&a.i()["default"].view.Da)return k}))||
this.o===l)&&qc(e));a=e;a.ca.push({type:b,ba:c});d=[];f=nc(a.e);a.Da&&f.push(new V("value",a.e));for(h=0;h<f.length;h++)f[h].type===b&&(e=new W(a.u.m,a.u.path),f[h].N&&(e=e.A(f[h].N)),d.push({ba:c,hc:new R(f[h].aa,e),Ya:f[h].Ya}));jc(a.Rb,d)};
yc.prototype.rb=function(a,b,c){var d=I(this.La,a.path),e=d.i();if(!(e===l||!f in e)){var f=a.sa();if("default"!==f)d=e[f].view,lc(d,b,c),0<d.ca.length||(e[f].C&&(e[f].C(),delete e[f].C),delete e[f]);else{var f=l,h;for(h in e)if(lc(e[h].view,b,c)){f=h;break}f&&!(0<e[f].view.ca.length)&&(e[f].C&&("default"===f&&Ac(this,d,e[f].view.Da),e[f].C(),delete e[f].C),delete e[f])}}};function Bc(a,b,c){Ka(I(a.La,b),function(a){if(a=a.i())for(var b in a)qc(a[b].view)},c,k)}
function X(a,b){var c=a.Zb,d=a.f.Ja;a.Zb=d;var e=b.toString(),f=a.La,h=c.D(b),j=d.D(b),f=new sc(f,function(b,c,d){b.toString().substring(0,e.length)===e?(Bc(a,b,n),a.ob(b,c,d),Bc(a,b,k)):a.ob(b,c,d)}),m=tc(f,b,h,j),j=h.g()!==j.g();if(m||j)for(h=b;h.parent()!==l;){var o=c.D(h),t=d.D(h),N=h.parent();if(I(f.Qb,N).i()){var p=d.D(N),v=[],h=h.M<h.j.length?h.j[h.j.length-1]:l;if(o.c())o=p.P(h,t),v.push(new V("child_added",t,h,o));else if(t.c())v.push(new V("child_removed",o,h));else if(m&&(o=p.P(h,t),v.push(new V("child_changed",
t,h,o))),j)o=p.P(h,t),v.push(new V("child_moved",t,h,o)),m=k;f.bc(N,p,v)}h=N;j=n}Bc(a,b,k)}yc.prototype.ob=function(a,b,c){a=I(this.La,a).i();if(a!==l)for(var d in a)a[d].view.ob(b,c)};function Ac(a,b,c){b.z(function(b){var e=b.i();if(e&&"default"in e)K(!e["default"].C),e["default"].C=zc(a,e["default"].view.u);else{if(e)for(var f in e)K(!e[f].C),e[f].C=zc(a,e[f].view.u);Ac(a,b,c)}})}
function zc(a,b){if(a.o){var c=b.path.toString(),d=a.o,e=Ea(b),f=Fa(e);d.U[c]=d.U[c]||{};K(!d.U[c][f],"listen() called twice for same path/queryId.");d.U[c][f]=e;d.da&&$b(d,c,e);return w(a.o.Vc,a.o,c,Ea(b))}return ca};function Cc(a){this.ia=a;this.o=new Xb(this.ia,w(this.Cc,this),w(this.zc,this),w(this.Dc,this));this.xb=new Ia;this.f=new fc;this.ma=new yc(this.o,this.f.na);this.Xb=new ec;this.Fb=new yc(l,this.Xb);Dc(this,n)}r=Cc.prototype;r.toString=function(){return(this.ia.tb?"https://":"http://")+this.ia.host+"/"+encodeURIComponent(String(this.ia.Ga))};r.name=function(){return this.ia.Ga};
r.Cc=function(a,b,c){if(9<=a.length&&a.lastIndexOf(".priority")===a.length-9)a=new G(a.substring(0,a.length-9)),b!==l&&Da.test(b)&&(b=Number(b)),c=T(this.f.ub,a).zb(b);else if(c){var a=new G(a),c=T(this.f.ub,a),d;for(d in b)var e=Q(b[d]),c=c.v(d,e)}else a=new G(a),c=Q(b);b=this.f;d=a;e=c;U(b.ub,d,e);for(var c=T(b.Q,d),f=I(b.Wa,d),h=n,j=f;j!==l;){if(j.i()!==l){h=k;break}j=j.parent()}h?b=n:(e=gc(e,c,f),e!==c?(U(b.Q,d,e),b=k):b=n);b&&(a=Ec(this,a),Fc(this,a),a=a.path());X(this.ma,a)};
r.zc=function(){Dc(this,k)};r.Dc=function(){Dc(this,n)};function Dc(a,b){var c=new G("/.info/connected");U(a.Xb,c,Q(b));X(a.Fb,c)}r.za=function(a,b){this.o.za(a,b)};r.Ka=function(){this.o.Ka()};r.wb=function(a,b,c,d){c!==l&&Da.test(c)&&(c=Number(c));this.t("set",{path:a.toString(),value:b});var b=Q(b,c),e=this.f.set(a,b),f=this;this.o.put(a.toString(),b.T(k),function(b){b="ok"===b;K(b,"put at "+a+" failed.");hc(f.f,a,e);d&&d(b)});b=Ec(this,a);Gc(this,a);Fc(this,b);X(this.ma,b.path())};
r.update=function(a,b,c){this.t("update",{path:a.toString(),value:b});var d=T(this.f.na,a),e=k,f;for(f in b)var e=n,h=Q(b[f]),d=d.v(f,h);if(e)M("update() called with empty data.  Don't do anything."),c&&c(k);else{var j=this.f.set(a,d),m=this;cc(this.o,"m",a.toString(),b,function(b){b="ok"===b;K(b,"merge at "+a+" failed.");hc(m.f,a,j);c&&c(b)},i);b=Ec(this,a);Gc(this,a);Fc(this,b);X(this.ma,b.path())}};
r.Lb=function(a,b,c){this.t("setPriority",{path:a.toString(),ha:b});var d=T(this.f.Q,a).zb(b),e=this.f.set(a,d),f=this;this.o.put(a.toString()+"/.priority",b,function(b){b="ok"===b;hc(f.f,a,e);c&&c(b)});b=Ec(this,a);Fc(this,b);X(this.ma,b.path())};r.vb=function(a,b){this.o.L(a.toString(),b)};r.cb=function(a,b,c){".info"===E(a.path)?this.Fb.cb(a,b,c):this.ma.cb(a,b,c)};r.rb=function(a,b,c){".info"===E(a.path)?this.Fb.rb(a,b,c):this.ma.rb(a,b,c)};r.$a=function(){this.o.$a()};r.Na=function(){this.o.Na()};
r.Za=function(){this.o.Za()};r.t=function(){M(this.o.id+":",arguments)};function Hc(a,b){var c=new W(a,b);return new R(T(a.f.na,b),c)};function Gc(a,b){var c=I(a.xb,b);La(c,function(b){Ic(a,b)});Ic(a,c);Ka(c,function(b){Ic(a,b)})}function Ic(a,b){var c=b.i();if(c!==l){for(var d=-1,e=[],f=0;f<c.length;f++)if(2===c[f].status)K(d===f-1,"All SENT items should be at beginning of queue."),d=f,c[f].status=4;else if(c[f].yb(),c[f].K){var h=Hc(a,b.path());e.push(w(c[f].K,l,n,h))}-1===d?J(b,l):c.length=d+1;for(f=0;f<e.length;f++)e[f]()}}
function Jc(a,b){var c=b||a.xb;b||Kc(a,c);if(!c.c())if(c.i()!==l){var d=Lc(a,c);if(0!==d.length){var e=c.path();if(2!==d[0].status&&4!==d[0].status){for(var f=0;f<d.length;f++)K(1===d[f].status,"tryToSendTransactionForNode_: items in queue should all be run."),d[f].status=2,d[f].gc++;var h=T(a.f.Q,e).hash();U(a.f.Q,e,T(a.f.na,e));var j=T(a.f.Q,e).T(k),m=rb();J(I(a.f.Wa,e),m);a.o.put(e.toString(),j,function(b){a.t("transaction put response",{path:e.toString(),status:b});var h=I(a.f.Wa,e),j=h.i();K(j!==
l,"tryToSendTransactionsForNode_: pendingPut should not be null.");j===m&&(J(h,l),U(a.f.Q,e,T(a.f.ub,e)));if("ok"===b){b=[];for(f=0;f<d.length;f++)d[f].status=3,d[f].K&&(h=Hc(a,d[f].path),b.push(w(d[f].K,l,k,h))),d[f].yb();Kc(a,c);Jc(a);for(f=0;f<b.length;f++)b[f]()}else if("datastale"===b||"disconnect"===b){if("datastale"===b)for(f=0;f<d.length;f++)d[f].status=4===d[f].status?5:1;else if("disconnect"===b)for(f=0;f<d.length;f++)d[f].status=6;b=Ec(a,e);Fc(a,b);X(a.ma,b.path())}else K(n,"Got unexpected put response to transaction: "+
b)},h)}}}else c.z(function(b){Jc(a,b)})}
function Fc(a,b){var c=b.path();U(a.f.na,c,T(a.f.Q,c));var d=Lc(a,b);if(0!==d.length){for(var e=T(a.f.na,c),f=[],h=0;h<d.length;h++){var j=Ga(c,d[h].path),m=n,o;K(j!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===d[h].status)m=k,o="set";else if(6===d[h].status)m=k,o="disconnect";else if(1===d[h].status)if(25<=d[h].gc)m=k,o="maxretry";else{var t=d[h].update(e.D(j).T());s(t)?(ya("transaction failed: Data returned ",t),e=e.ab(j,Q(t))):(m=k,o="nodata")}m&&(d[h].yb(),d[h].status=
3,d[h].K&&(m=new W(a,d[h].path),j=new R(e.D(j),m),f.push(w(d[h].K,l,n,j,o))))}d=T(a.f.Q,c).g();U(a.f.na,c,e.zb(d));Jc(a);for(h=0;h<f.length;h++)f[h]()}}function Ec(a,b){for(var c,d=a.xb;(c=E(b))!==l&&d.i()===l;)d=I(d,c),b=H(b);return d}function Lc(a,b){var c=[];Mc(a,b,c);c.sort(function(a,b){return a.cc-b.cc});return c}function Mc(a,b,c){var d=b.i();if(d!==l)for(var e=0;e<d.length;e++)c.push(d[e]);b.z(function(b){Mc(a,b,c)})}
function Kc(a,b){var c=b.i();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;J(b,0<c.length?c:l)}b.z(function(b){Kc(a,b)})};function Y(){this.W={}}Y.Vb=function(){return Y.Yb?Y.Yb:Y.Yb=new Y};Y.prototype.$a=function(){for(var a in this.W)this.W[a].$a();this.W={}};Y.prototype.shutdown=Y.prototype.$a;Y.prototype.Na=function(){for(var a in this.W)this.W[a].Na()};Y.prototype.interrupt=Y.prototype.Na;Y.prototype.Za=function(){for(var a in this.W)this.W[a].Za()};Y.prototype.resume=Y.prototype.Za;var Z={Pc:function(){return Y.Vb().W}};Z.repos=Z.Pc;Z.sc=function(a){var b=P.prototype.hash;P.prototype.hash=a;return function(){P.prototype.hash=b}};Z.hijackHash=Z.sc;Z.sa=function(a){return a.sa()};Z.queryIdentifier=Z.sa;Z.uc=function(a){return a.m.o.U};Z.listens=Z.uc;Z.Nc=function(a){return a.m.o.R};Z.refConnection=Z.Nc;Z.lc=S;Z.RealTimeConnection=Z.lc;S.prototype.sendRequest=S.prototype.va;S.prototype.close=S.prototype.close;var Nc,Oc=0,Pc=[];Nc=function(){var a=(new Date).getTime()+Ab,b=a===Oc;Oc=a;for(var c=Array(8),d=7;0<=d;d--)c[d]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(a%64),a=Math.floor(a/64);K(0===a);a=c.join("");if(b){for(d=11;0<=d&&63===Pc[d];d--)Pc[d]=0;Pc[d]++}else for(d=0;12>d;d++)Pc[d]=Math.floor(64*Math.random());for(d=0;12>d;d++)a+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(Pc[d]);K(20===a.length,"NextPushId: Length should be 20.");return a};function W(){var a,b,c;if(arguments[0]instanceof Cc)c=arguments[0],a=arguments[1];else{z("new Firebase",1,2,arguments.length);a=arguments[0];var d="",e="",f=n;b="";if(u(a)){var h=a.indexOf("://");0<h&&(f="https"===a.substring(0,h),a=a.substring(h+3));h=a.indexOf("/");0<h&&(d=a.substring(0,h),a=a.substring(h+1),h=a.indexOf("/"),0<h?(e=a.substring(0,h),b=a.substring(h)):(e=a,b="/"))}a={host:d,tb:f,Ga:e};b=new G(b);d=b.toString();if(!(e=!u(a.host)))if(!(e=0===a.host.length))if(!(e=!wa(a.Ga)))if(e=0!==
d.length)d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),e=!(u(d)&&0!==d.length&&!va.test(d));e&&g(Error(A("new Firebase",1,n)+"must be a valid firebase URL."));arguments[1]?arguments[1]instanceof Y?c=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):c=Y.Vb();d=(a.tb?"https://":"http://")+a.host+"/"+a.Ga;e=c.W[d];e||(e=new Cc(a),c.W[d]=e);c=e;a=b}F.call(this,c,a)}ja(W,F);var Qc=W,Rc=["Firebase"],$=ba;!(Rc[0]in $)&&$.execScript&&$.execScript("var "+Rc[0]);
for(var Sc;Rc.length&&(Sc=Rc.shift());)!Rc.length&&s(Qc)?$[Sc]=Qc:$=$[Sc]?$[Sc]:$[Sc]={};W.prototype.name=function(){z("Firebase.name",0,0,arguments.length);return this.path.c()?this.m.name():this.path.M<this.path.j.length?this.path.j[this.path.j.length-1]:l};W.prototype.name=W.prototype.name;
W.prototype.A=function(a){z("Firebase.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof G))if(E(this.path)===l){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Ca("Firebase.child",b)}else Ca("Firebase.child",a);return new W(this.m,this.path.A(a))};W.prototype.child=W.prototype.A;W.prototype.parent=function(){z("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return a===l?l:new W(this.m,a)};W.prototype.parent=W.prototype.parent;
W.prototype.toString=function(){z("Firebase.toString",0,0,arguments.length);var a;if(this.parent()===l)a=this.m.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a};W.prototype.toString=W.prototype.toString;W.prototype.set=function(a,b){z("Firebase.set",1,2,arguments.length);D("Firebase.set",this.path);xa("Firebase.set",a,n);B("Firebase.set",2,b,k);return this.m.wb(this.path,a,l,b)};W.prototype.set=W.prototype.set;
W.prototype.update=function(a,b){z("Firebase.update",1,2,arguments.length);D("Firebase.update",this.path);ga(a)||g(Error(A("Firebase.update",1,n)+" must be an object containing the children to replace."));xa("Firebase.update",a,n);B("Firebase.update",2,b,k);return this.m.update(this.path,a,b)};W.prototype.update=W.prototype.update;
W.prototype.wb=function(a,b,c){z("Firebase.setWithPriority",2,3,arguments.length);D("Firebase.setWithPriority",this.path);xa("Firebase.setWithPriority",a,n);za("Firebase.setWithPriority",2,b,n);B("Firebase.setWithPriority",3,c,k);(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object.");return this.m.wb(this.path,a,b,c)};W.prototype.setWithPriority=W.prototype.wb;
W.prototype.remove=function(a){z("Firebase.remove",0,1,arguments.length);D("Firebase.remove",this.path);B("Firebase.remove",1,a,k);this.set(l,a)};W.prototype.remove=W.prototype.remove;
W.prototype.transaction=function(a,b){function c(){}z("Firebase.transaction",1,2,arguments.length);D("Firebase.transaction",this.path);B("Firebase.transaction",1,a,n);B("Firebase.transaction",2,b,k);(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object.");var d=this.m,e=this.path;d.t("transaction on "+e);var f=new W(d,e);f.Hb("value",c);var h={path:e,update:a,K:b,cc:rb(),gc:0,yb:function(){f.Gb("value",c)}},j=d.f.na,m=h.update(T(j,
e).T());if(s(m)){ya("transaction failed: Data returned ",m);var o=T(d.f.Q,e).g();U(j,e,Q(m,o));X(d.ma,e);h.status=1;e=I(d.xb,e);j=e.i()||[];j.push(h);J(e,j);Jc(d)}else h.yb(),h.K&&(d=Hc(d,e),h.K(n,d))};W.prototype.transaction=W.prototype.transaction;W.prototype.Lb=function(a,b){z("Firebase.setPriority",1,2,arguments.length);D("Firebase.setPriority",this.path);za("Firebase.setPriority",1,a,n);B("Firebase.setPriority",2,b,k);a!==l&&Da.test(a)&&(a=Number(a));this.m.Lb(this.path,a,b)};
W.prototype.setPriority=W.prototype.Lb;W.prototype.push=function(a,b){z("Firebase.push",0,2,arguments.length);D("Firebase.push",this.path);xa("Firebase.push",a,k);B("Firebase.push",2,b,k);var c=Nc(),c=this.A(c);"undefined"!==typeof a&&a!==l&&c.set(a,b);return c};W.prototype.push=W.prototype.push;W.prototype.Oc=function(){z("Firebase.removeOnDisconnect",0,0,arguments.length);this.m.vb(this.path,l)};W.prototype.removeOnDisconnect=W.prototype.Oc;
W.prototype.vb=function(a){z("Firebase.setOnDisconnect",1,1,arguments.length);xa("Firebase.setOnDisconnect",a,n);this.m.vb(this.path,a)};W.prototype.setOnDisconnect=W.prototype.vb;W.prototype.nc=function(a,b){this.za(a,b)};W.prototype.authAdmin=W.prototype.nc;W.prototype.za=function(a,b){z("Firebase.authAdmin",1,2,arguments.length);u(a)||g(Error(A("Firebase.authAdmin",1,n)+"must be a valid credential (a string)."));B("Firebase.authAdmin",2,b,k);this.m.za(a,b)};W.prototype.auth=W.prototype.za;
W.prototype.Uc=function(){this.Ka()};W.prototype.unauthAdmin=W.prototype.Uc;W.prototype.Ka=function(){this.m.Ka()};W.prototype.unauth=W.prototype.Ka;W.enableLogging=function(a){a===k?"undefined"!==typeof console&&(xb=w(console.log,console)):xb=a?a:l};W.TEST_HOOKS=Z;W.Context=Y;})();
